<!DOCTYPE html>

<html>

<head>
  <meta charset="utf-8" />
  <title>auth demo</title>
  <script src="../node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
  <script src="../node_modules/lit/polyfill-support.js"></script>
  <script type="module" src="../fbauth-element.js"></script>
</head>

<body>
  <fbauth-element>
    <div>
      <header>
        <h1 class="rainbow-text">Welcome to the Useless Page</h1>
      </header>
      <section>
        <h2 onclick="blah()">A Totally Relevant Quote</h2>
        <blockquote>
          "If the world were a logical place, men would ride side-saddle." - Rita Mae Brown
        </blockquote>
      </section>
      <section>
        <h2>Some Unordered Content</h2>
        <ul>
          <li>Fluffy Unicorns</li>
          <li>Shiny Rainbows</li>
          <li>Mysterious Quasars</li>
          <li>Flying Spaghetti Monsters</li>
        </ul>
      </section>
      <section>
        <h2>Random Image</h2>
        <img src="https://placekitten.com/400/300" alt="A cute kitten because why not?" />
        <div id="uid">[Not initialized]</div>
        <div id="display-name">[Not initialized]</div>
      </section>
      <footer>
        <p>This is a collection of absolutely meaningless content for testing purposes. Enjoy the randomness!</p>
      </footer>
    </div>
  </fbauth-element>
  <script>
    const fbauth = document.querySelector('fbauth-element');
    const uid = document.getElementById('uid');
    const displayName = document.getElementById('display-name');
    fbauth.addEventListener('user-changed', (event) => {
      const { newValue } = event.detail;
      if (newValue) {
        displayName.innerHTML = newValue.displayName;
        uid.innerHTML = newValue.uid;
      } else {
        displayName.innerHTML = '[no user]';
        uid.innerHTML = '[no user]';
      }
    });
  </script>
</body>

</html>